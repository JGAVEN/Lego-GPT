FROM python:3.11-slim

WORKDIR /app/backend

ENV PYTHONDONTWRITEBYTECODE=1 \
    PYTHONUNBUFFERED=1 \
    PYTHONPATH=/app

COPY . .
COPY vendor/legogpt /app/legogpt
COPY vendor/legogpt/data /app/legogpt/data

EXPOSE 8000
CMD ["python", "server.py"]
